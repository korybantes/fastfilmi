<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastFilmi</title>
    <meta content="FastFilmi" property="og:title"/>
    <meta name="keywords" content="free movies, free streaming, watch movies online, free tv shows, streaming service, watch movies free, online streaming, fastfilmi, free movies online, free series online">
    <meta content="Click, watch, enjoy. FastFilmi breaks down the paywall, ensuring that quality content is accessible to everyone." property="og:description"/>
    <meta content="https://fastfilmi.top" property="og:url"/>
    <meta content="logo.svg" property="og:image"/>
    <meta content="#09091C" data-react-helmet="true" name="theme-color"/>
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="https://fastfilmi.top">
    <meta property="twitter:title" content="FastFilmi - Watch Movies & TV Shows">
    <meta property="twitter:description" content="Click, watch, enjoy. FastFilmi breaks down the paywall, ensuring that quality content is accessible to everyone.">
    <meta property="twitter:image" content="logo.svg">
    <link rel="icon" type="image/svg+xml" href="logo.svg">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.10.3/cdn.min.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="sources.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                    },
                    colors: {
                        neo: {
                            bg: '#09091C',
                            card: '#12123B',
                            accent: '#FF2E9F',
                            secondary: '#6919E6',
                            tertiary: '#00F0C8',
                            highlight: '#3B82F6',
                            text: '#F0F4FA',
                            textDark: '#94A3B8',
                        }
                    },
                    animation: {
                        'gradient-x': 'gradient-x 10s ease infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'shimmer': 'shimmer 2.5s linear infinite',
                    },
                    keyframes: {
                        'gradient-x': {
                            '0%, 100%': {
                                'background-position': '0% 50%'
                            },
                            '50%': {
                                'background-position': '100% 50%'
                            },
                        },
                        'float': {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        'shimmer': {
                            '0%': { backgroundPosition: '-200% 0' },
                            '100%': { backgroundPosition: '200% 0' },
                        }
                    },
                },
            },
        }
    </script>
    <style>
        body {
            background-color: #09091C;
            background-image: 
                radial-gradient(circle at 20% 35%, rgba(105, 25, 230, 0.15) 0%, transparent 30%),
                radial-gradient(circle at 85% 20%, rgba(0, 240, 200, 0.15) 0%, transparent 30%),
                radial-gradient(circle at 10% 85%, rgba(255, 46, 159, 0.15) 0%, transparent 30%);
            background-attachment: fixed;
        }

        /* Add no-select class for slider */
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .nav-link {
            position: relative;
            transition: all 0.3s ease;
            padding: 0.5rem 0;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background: linear-gradient(90deg, #FF2E9F, #6919E6);
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: #00F0C8;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .glass-effect {
            background: rgba(9, 9, 28, 0.7);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            background: rgba(18, 18, 59, 0.7);
            backdrop-filter: blur(16px);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.03);
        }

        .card-hover::before {
            content: '';
            position: absolute;
            inset: -1px;
            background: linear-gradient(
                35deg,
                rgba(255, 46, 159, 0.5),
                rgba(0, 240, 200, 0),
                rgba(59, 130, 246, 0.5)
            );
            border-radius: 20px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px -20px rgba(255, 46, 159, 0.3),
                        0 0 15px rgba(59, 130, 246, 0.2);
        }

        .card-hover:hover::before {
            opacity: 1;
        }

        .neo-button {
            background: linear-gradient(90deg, #FF2E9F, #6919E6);
            position: relative;
            z-index: 1;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .neo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px -6px rgba(255, 46, 159, 0.6);
        }
        
        .neo-button::after {
            content: '';
            position: absolute;
            left: -50%;
            top: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                60deg, 
                rgba(255, 255, 255, 0) 10%,
                rgba(255, 255, 255, 0.1) 30%, 
                rgba(255, 255, 255, 0) 50%
            );
            transform: rotate(45deg);
            transition: all 0.8s ease;
            z-index: -1;
        }
        
        .neo-button:hover::after {
            left: 100%;
            top: 100%;
        }

        .search-container {
            position: relative;
            width: 256px;
        }

        .search-container::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: radial-gradient(
                circle at var(--mouse-x, center) var(--mouse-y, center),
                rgba(255, 46, 159, 0.5) 0%,
                rgba(59, 130, 246, 0.2) 25%,
                transparent 70%
            );
            border-radius: 9999px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 0;
        }

        .search-container:hover::before,
        .search-container:focus-within::before {
            opacity: 1;
        }

        .search-input {
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            padding-right: 5rem !important;
        }

        .card-overlay {
            opacity: 0;
            transition: all 0.4s ease;
            background: linear-gradient(
                to top,
                rgba(0, 0, 0, 0.9) 0%,
                rgba(0, 0, 0, 0.7) 50%,
                rgba(0, 0, 0, 0.3) 100%
            );
        }

        .card-hover:hover .card-overlay {
            opacity: 1;
            background: linear-gradient(
                to top,
                rgba(0, 0, 0, 0.95) 0%,
                rgba(0, 0, 0, 0.8) 40%,
                rgba(0, 0, 0, 0.2) 100%
            );
        }

        .shimmer {
            background: linear-gradient(
                90deg,
                rgba(255, 255, 255, 0.03) 0%,
                rgba(255, 255, 255, 0.08) 50%,
                rgba(255, 255, 255, 0.03) 100%
            );
            background-size: 200% 100%;
            animation: shimmer 2.5s linear infinite;
        }

        html {
            scroll-behavior: smooth;
        }

        .filter-item {
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
        }
        
        .filter-item:hover {
            border-color: rgba(255, 255, 255, 0.1);
            background: rgba(59, 130, 246, 0.1);
        }
        
        .filter-item.active {
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.2), rgba(0, 240, 200, 0.2));
            border-color: rgba(59, 130, 246, 0.5);
            box-shadow: 0 5px 15px -5px rgba(0, 240, 200, 0.3);
        }

        /* Custom Select Styling */
        .custom-select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="%2300F0C8"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>');
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
            padding-right: 2.5rem; /* Make space for the arrow */
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .custom-select-wrapper {
            position: relative;
            display: inline-block; /* Fit wrapper to select */
        }

        .custom-select-wrapper::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: 1rem; /* Match select border-radius */
            background: radial-gradient(
                circle at var(--select-mouse-x, center) var(--select-mouse-y, center),
                rgba(0, 240, 200, 0.3) 0%,
                rgba(59, 130, 246, 0.1) 25%,
                transparent 60%
            );
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 0;
        }

        .custom-select-wrapper:hover::before,
        .custom-select:focus + .custom-select-wrapper::before /* Needs adjustment if wrapper added */ {
            opacity: 1;
        }
        
        .custom-select:focus {
             border-color: rgba(0, 240, 200, 0.4);
             box-shadow: 0 0 0 3px rgba(0, 240, 200, 0.1);
        }

        /* Floating Action Menu */
        .floating-menu {
            position: fixed;
            right: 24px;
            bottom: 100px;
            z-index: 49;
        }

        .floating-menu-button {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FF2E9F, #6919E6);
            box-shadow: 0 4px 20px rgba(255, 46, 159, 0.3);
            transition: all 0.3s ease;
        }

        .floating-menu-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 24px rgba(255, 46, 159, 0.4);
        }

        .floating-menu-items {
            position: absolute;
            bottom: 70px;
            right: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
            transition: all 0.3s ease;
        }

        .floating-menu-item {
            padding: 8px 16px;
            background: rgba(18, 18, 59, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform: translateX(20px);
            opacity: 0;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .floating-menu-items.show .floating-menu-item {
            transform: translateX(0);
            opacity: 1;
        }

        /* Quick Preview */
        .preview-card {
            position: fixed;
            bottom: 32px;
            left: 50%;
            transform: translateX(-50%) translateY(100%);
            width: 90%;
            max-width: 800px;
            background: rgba(18, 18, 59, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            z-index: 48;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .preview-card.show {
            transform: translateX(-50%) translateY(0);
        }

        /* Enhanced Movie Cards */
        .movie-card-enhanced {
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .movie-card-enhanced::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: linear-gradient(45deg, #FF2E9F, #6919E6, #00F0C8);
            border-radius: inherit;
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: -1;
        }

        .movie-card-enhanced:hover::before {
            opacity: 1;
        }

        .movie-card-enhanced .rating-circle {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(18, 18, 59, 0.95);
            backdrop-filter: blur(8px);
            border: 2px solid;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .rating-high {
            border-color: #22c55e;
            color: #22c55e;
        }

        .rating-medium {
            border-color: #eab308;
            color: #eab308;
        }

        .rating-low {
            border-color: #ef4444;
            color: #ef4444;
        }

        /* Animation and Effects */
        .hover-effect {
            transition: all 0.3s ease;
        }
        
        .hover-effect:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 10px rgba(var(--color-accent-rgb), 0.5));
        }

        .minimized-header {
            transform: scale(0.8);
            position: fixed;
            top: 0;
            z-index: 50;
            background: rgba(9, 9, 28, 0.8);
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 2px;
            background: linear-gradient(to right, var(--color-accent), var(--color-highlight));
            transition: width 0.3s ease;
            z-index: 60;
        }

        .context-menu {
            position: fixed;
            background: rgba(9, 9, 28, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 0.5rem;
            z-index: 100;
            min-width: 200px;
        }

        .context-menu-item {
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .context-menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            pointer-events: none;
            animation: confetti-fall linear forwards;
            z-index: 1000;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
            }
        }

        /* Accessibility Focus Styles */
        .focus-visible:focus {
            outline: 2px solid var(--color-accent);
            outline-offset: 2px;
        }

        /* Touch Device Optimizations */
        @media (hover: none) {
            .hover-effect {
                transform: none;
            }
        }
    </style>
</head>
<body class="text-neo-text min-h-screen" x-data="app()" 
      @keydown.meta.k.prevent="$refs.searchInput.focus()"
      @keydown.ctrl.k.prevent="$refs.searchInput.focus()">
    <div x-data="{ showPopup: localStorage.getItem('showPopupReminder') !== 'false' }" 
         x-show="showPopup" 
         class="fixed inset-0 z-50 flex items-center justify-center">
        <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" @click="showPopup = false"></div>
        <div class="relative w-full max-w-2xl mx-4 bg-neo-card/30 backdrop-blur-xl text-white p-6 rounded-2xl shadow-2xl border border-white/10 hover:border-white/20 transition-all duration-300">
            <div class="text-center space-y-3">
                <h2 class="text-xl font-bold mb-2">Important Notice</h2>
                <p class="text-sm md:text-base leading-relaxed">
                    Please bookmark <a href="https://fastfilmi.top" target="_blank" class="text-neo-accent hover:text-neo-tertiary transition-colors">fastfilmi.top</a> in case the domain you're using stops working. This website lists all FastFilmi domains and indicates whether each one is working or not.
                </p>
                <p class="text-sm text-neo-textDark">
                    You can disable this popup in <a href="settings.html" class="text-neo-accent hover:text-neo-tertiary transition-colors">Settings > Appearance</a>.
                </p>
                <div class="flex items-center justify-center space-x-3 mt-4">
                    <button @click="showPopup = false" 
                            class="bg-white/10 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-medium hover:bg-white/20 transition-all duration-300 flex items-center space-x-3 border border-white/10 hover:border-white/20">
                        <span>Got it!</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div x-show="localStorage.getItem('showParticles') !== 'false'" id="particles-js" class="fixed inset-0 pointer-events-none z-0"></div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass-effect">
        <div class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4 md:space-x-8">
                    <button @click="sidebarOpen = true" class="text-neo-textDark hover:text-neo-tertiary transition-colors duration-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                    <div class="flex items-center space-x-3">
                        <div class="h-11 w-11 bg-gradient-to-br from-neo-accent via-neo-secondary to-neo-tertiary rounded-2xl flex items-center justify-center shadow-lg shadow-neo-secondary/20">
                            <img src="logo.svg" alt="FastFilmi Logo" class="h-8 w-8 animate-float">
                        </div>
                        <span class="text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-neo-accent via-neo-tertiary to-neo-highlight">FastFilmi</span>
                    </div>
                    <!-- mobile search bar -->
                    <div class="md:hidden relative">
                        <input type="text" 
                               x-model="searchQuery" 
                               @keyup.debounce.300ms="searchContent()"
                               placeholder="Search..." 
                               class="w-32 bg-neo-card rounded-lg px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-neo-accent">
                    </div>
                    <div class="hidden md:flex space-x-6">
                        <button @click="currentTab = currentTab === 'movies' ? 'shows' : 'movies'" 
                                class="nav-link">
                            <span x-text="currentTab === 'movies' ? 'Switch to TV Shows' : 'Switch to Movies'"></span>
                        </button>
                        <a href="livesports.html" class="nav-link">Live Sports</a>
                        <button @click="showWatchLater = true" class="nav-link flex items-center space-x-2">
                            <span>Watch Later</span>
                            <span x-show="watchLaterCount > 0" 
                                  class="bg-neo-accent text-white text-xs flex items-center justify-center rounded-full w-6 h-6" 
                                  x-text="watchLaterCount"></span>
                        </button>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <div class="search-container hidden md:block">
                            <input type="text" 
                                   x-ref="searchInput"
                                   x-model="searchQuery" 
                                   @keyup.debounce.300ms="searchContent()"
                                   @focus="showSearchResults = true"
                                   placeholder="Search..." 
                                   class="search-input bg-neo-card rounded-full px-6 py-2 focus:outline-none focus:ring-2 focus:ring-neo-accent w-64">
                            <div class="absolute right-3 top-1/2 -translate-y-1/2 flex items-center space-x-1 text-neo-textDark pointer-events-none select-none">
                                <span class="text-xs bg-neo-card rounded px-1.5 py-0.5">⌘</span>
                                <span class="text-xs bg-neo-card rounded px-1.5 py-0.5">K</span>
                            </div>
                            
                            <!-- Search Results Dropdown -->
                            <div x-show="showSearchResults && searchQuery.length > 0" 
                                 @click.away="showSearchResults = false"
                                 class="absolute mt-2 w-[400px] -left-20 bg-neo-card rounded-xl shadow-2xl border border-white/5 backdrop-blur-xl z-50 overflow-hidden">
                                <div class="max-h-[70vh] overflow-y-auto">
                                    <div class="p-4 border-b border-white/5">
                                        <div class="flex items-center justify-between text-sm text-neo-textDark mb-2">
                                            <span>Search Results</span>
                                            <span x-text="filteredContent.length + ' results'"></span>
                        </div>
                                        <div class="flex gap-2">
                                            <button @click="searchType = 'all'" 
                                                    :class="searchType === 'all' ? 'bg-neo-accent text-white' : 'bg-neo-card/50 text-neo-textDark hover:bg-neo-card'"
                                                    class="px-3 py-1 rounded-full text-xs transition-all">
                                                All
                                            </button>
                                            <button @click="searchType = 'movies'" 
                                                    :class="searchType === 'movies' ? 'bg-neo-accent text-white' : 'bg-neo-card/50 text-neo-textDark hover:bg-neo-card'"
                                                    class="px-3 py-1 rounded-full text-xs transition-all">
                                                Movies
                                            </button>
                                            <button @click="searchType = 'shows'" 
                                                    :class="searchType === 'shows' ? 'bg-neo-accent text-white' : 'bg-neo-card/50 text-neo-textDark hover:bg-neo-card'"
                                                    class="px-3 py-1 rounded-full text-xs transition-all">
                                                TV Shows
                                            </button>
                                            <button @click="searchType = 'people'" 
                                                    :class="searchType === 'people' ? 'bg-neo-accent text-white' : 'bg-neo-card/50 text-neo-textDark hover:bg-neo-card'"
                                                    class="px-3 py-1 rounded-full text-xs transition-all">
                                                People
                                            </button>
                    </div>
                                    </div>
                                    <div class="divide-y divide-white/5">
                                        <template x-for="item in filteredSearchResults" :key="item.id">
                                            <a :href="getItemLink(item)" class="flex items-center space-x-3 p-3 hover:bg-neo-card/50 transition-colors">
                                                <img :src="getItemImage(item)" 
                                                     :alt="item.title || item.name"
                                                     class="w-12 h-12 rounded-lg object-cover">
                                                <div class="flex-1 min-w-0">
                                                    <h4 class="text-sm font-medium truncate" x-text="item.title || item.name"></h4>
                                                    <p class="text-xs text-neo-textDark" x-text="getItemInfo(item)"></p>
                                                </div>
                                            </a>
                                        </template>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="settings.html" class="text-neo-textDark hover:text-neo-tertiary transition-colors duration-300" title="Settings">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transition-transform duration-500 hover:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar Menu -->
    <div x-show="sidebarOpen" 
         class="fixed inset-0 z-[60] overflow-hidden"
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         x-transition:leave="transition ease-in duration-200"
         x-transition:leave-start="opacity-100"
         x-transition:leave-end="opacity-0">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" @click="sidebarOpen = false"></div>
        
        <!-- Sidebar Content -->
        <div class="absolute inset-y-0 left-0 w-80 bg-neo-card/95 backdrop-blur-xl transform transition-transform duration-300"
             :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'">
            <div class="h-full flex flex-col">
                <!-- Header -->
                <div class="p-6 border-b border-white/5">
                    <div class="flex items-center justify-between">
                        <h2 class="text-xl font-bold">Menu</h2>
                        <button @click="sidebarOpen = false" class="text-neo-textDark hover:text-white transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
            
                <!-- Content -->
                <div class="flex-1 overflow-y-auto">
                    <!-- Categories -->
                    <div class="p-6 border-b border-white/5">
                        <h3 class="text-sm font-medium text-neo-textDark mb-4">Categories</h3>
                        <div class="space-y-2">
                            <a href="#" class="flex items-center space-x-3 p-2 rounded-xl hover:bg-neo-card transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neo-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" />
                                </svg>
                                <span>Movies</span>
                            </a>
                            <a href="#" class="flex items-center space-x-3 p-2 rounded-xl hover:bg-neo-card transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neo-tertiary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                </svg>
                                <span>TV Shows</span>
                            </a>
                            <a href="#" class="flex items-center space-x-3 p-2 rounded-xl hover:bg-neo-card transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neo-highlight" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                </svg>
                                <span>People</span>
                            </a>
                            <a href="livesports.html" class="flex items-center space-x-3 p-2 rounded-xl hover:bg-neo-card transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <span>Live Sports</span>
                            </a>
                        </div>
                    </div>

                    <!-- Genres -->
                    <div class="p-6 border-b border-white/5">
                        <h3 class="text-sm font-medium text-neo-textDark mb-4">Genres</h3>
                        <div class="grid grid-cols-2 gap-2">
                            <template x-for="genre in genres" :key="genre.id">
                                <button @click="selectedGenre = genre.id; applyFilters(); sidebarOpen = false"
                                        class="text-left p-2 rounded-xl hover:bg-neo-card transition-colors text-sm"
                                        :class="selectedGenre === genre.id ? 'bg-neo-accent/20 text-neo-accent' : ''">
                                    <span x-text="genre.name"></span>
                    </button>
                            </template>
                        </div>
                    </div>

                    <!-- Quick Links -->
                    <div class="p-6 border-b border-white/5">
                        <h3 class="text-sm font-medium text-neo-textDark mb-4">Quick Links</h3>
                        <div class="space-y-2">
                            <button @click="showWatchLater = true; sidebarOpen = false" 
                                    class="w-full flex items-center justify-between p-2 rounded-xl hover:bg-neo-card transition-colors">
                        <span>Watch Later</span>
                        <span x-show="watchLaterCount > 0" 
                                      class="bg-neo-accent text-white text-xs px-2 py-1 rounded-full" 
                              x-text="watchLaterCount"></span>
                    </button>
                            <button @click="pickRandom(); sidebarOpen = false" 
                                    class="w-full flex items-center space-x-3 p-2 rounded-xl hover:bg-neo-card transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neo-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                        </svg>
                                <span>Random Pick</span>
                            </button>
                        </div>
                    </div>

                    <!-- External Links -->
                    <div class="p-6">
                        <h3 class="text-sm font-medium text-neo-textDark mb-4">External Links</h3>
                        <div class="space-y-2">
                    <a href="https://github.com/korybantes/fastfilmi" target="_blank" 
                               class="flex items-center space-x-3 p-2 rounded-xl hover:bg-neo-card transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                                <span>GitHub</span>
                            </a>
                    <a href="https://ko-fi.com/ambrosial" target="_blank" 
                               class="flex items-center space-x-3 p-2 rounded-xl hover:bg-neo-card transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-pink-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                                <span>Support on Ko-Fi</span>
                            </a>
                    <a href="https://discord.gg/s9kUZw7CqP" target="_blank" 
                               class="flex items-center space-x-3 p-2 rounded-xl hover:bg-neo-card transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-400" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
                                </svg>
                                <span>Join Discord</span>
                            </a>
                </div>
            </div>
        </div>
            </div>
        </div>
    </div>

    <!-- Update message -->
    <div x-data="{ show: true }"
         x-show="show && localStorage.getItem('showUpdateNotice') !== 'false'" 
         class="fixed top-[3.5rem] md:top-16 left-0 right-0 z-40 animate-slide-down"
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="transform -translate-y-full"
         x-transition:enter-end="transform translate-y-0"
         x-transition:leave="transition ease-in duration-200"
         x-transition:leave-start="transform translate-y-0"
         x-transition:leave-end="transform -translate-y-full">
        <div class="bg-neo-bg border-b border-neo-accent/20">
            <div class="container mx-auto px-6 py-2 flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <p class="text-sm">
                        <span class="font-semibold text-neo-accent">Update (02/03/25)</span>
                        <span class="text-neo-textDark text-xs sm:text-sm"> Added context menu to cards</span>
                    </p>
                </div>
                <button @click="show = false" class="text-neo-textDark hover:text-neo-text transition-colors">×</button>
            </div>
        </div>
    </div>

    <!-- Hero section -->
    <div class="pt-16">
        <!-- Hero Slider -->
        <div class="relative h-[50vh] sm:h-[60vh] md:h-[75vh] overflow-hidden"
             x-data="{ 
                currentSlide: 0,
                slides: [],
                autoplayInterval: null,
                isDragging: false,
                startX: 0,
                scrollLeft: 0,
                async init() {
                    const response = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${this.apiKey}&language=${this.language}&page=1&append_to_response=images`);
                    const data = await response.json();
                    this.slides = data.results.slice(0, 10);
                    this.startAutoplay();

                    // Fetch additional details for each movie
                    for (let slide of this.slides) {
                        const detailsResponse = await fetch(`https://api.themoviedb.org/3/movie/${slide.id}?api_key=${this.apiKey}&append_to_response=images`);
                        const details = await detailsResponse.json();
                        slide.images = details.images;
                        slide.runtime = details.runtime;
                    }
                },
                startAutoplay() {
                    if (this.autoplayInterval) clearInterval(this.autoplayInterval);
                    this.autoplayInterval = setInterval(() => {
                        if (!this.isDragging) {
                            this.currentSlide = (this.currentSlide + 1) % this.slides.length;
                        }
                    }, 6000);
                },
                stopAutoplay() {
                    clearInterval(this.autoplayInterval);
                },
                handleDragStart(e) {
                    this.isDragging = true;
                    this.startX = e.type === 'mousedown' ? e.pageX : e.touches[0].pageX;
                    this.stopAutoplay();
                },
                handleDragMove(e) {
                    if (!this.isDragging) return;
                    e.preventDefault();
                    const x = e.type === 'mousemove' ? e.pageX : e.touches[0].pageX;
                    const walk = (this.startX - x) * 2;
                    if (Math.abs(walk) > 50) {
                        if (walk > 0) {
                            this.currentSlide = (this.currentSlide + 1) % this.slides.length;
                        } else {
                            this.currentSlide = (this.currentSlide - 1 + this.slides.length) % this.slides.length;
                        }
                        this.isDragging = false;
                        this.startAutoplay();
                    }
                },
                handleDragEnd() {
                    this.isDragging = false;
                    this.startAutoplay();
                }
             }"
             @mousedown="handleDragStart"
             @mousemove="handleDragMove"
             @mouseup="handleDragEnd"
             @mouseleave="handleDragEnd"
             @touchstart="handleDragStart"
             @touchmove="handleDragMove"
             @touchend="handleDragEnd"
             @mouseenter="stopAutoplay"
             @mouseleave="startAutoplay">
            <!-- Backdrop -->
            <template x-for="(slide, index) in slides" :key="slide.id">
                <div x-show="currentSlide === index"
                     x-transition:enter="transition ease-out duration-500"
                     x-transition:enter-start="opacity-0 transform scale-105"
                     x-transition:enter-end="opacity-100 transform scale-100"
                     x-transition:leave="transition ease-in duration-300"
                     x-transition:leave-start="opacity-100 transform scale-100"
                     x-transition:leave-end="opacity-0 transform scale-95"
                     class="absolute inset-0 cursor-grab active:cursor-grabbing no-select">
                    <div class="absolute inset-0 bg-cover bg-center transform hover:scale-105 transition-transform duration-[3000ms]"
                         :style="'background-image: url(https://image.tmdb.org/t/p/original' + slide.backdrop_path + '); background-position: center 25%'">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-neo-bg via-neo-bg/90 to-transparent opacity-100"></div>
                    <div class="absolute inset-0 bg-gradient-to-r from-neo-bg/90 via-transparent to-neo-bg/90"></div>
                    
                    <!-- Content -->
                    <div class="container mx-auto px-6 relative h-full">
                        <div class="absolute bottom-12 md:bottom-20 left-6 right-6 md:left-12 md:right-12 flex flex-col items-start no-select">
                            <!-- Title logo -->
                            <div class="mb-4 w-full max-w-2xl" x-show="slide.images?.logos?.length > 0">
                                <img :src="'https://image.tmdb.org/t/p/w500' + slide.images.logos[0].file_path" 
                                     class="max-h-20 md:max-h-28 w-auto" 
                                     :alt="slide.title + ' logo'">
                            </div>
                            <!-- Fallback title text -->
                            <h1 x-show="!slide.images?.logos?.length"
                                class="text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-bold tracking-wide mb-4 
                                     bg-clip-text text-transparent bg-gradient-to-r from-white to-white/80
                                     drop-shadow-[0_5px_15px_rgba(255,255,255,0.15)]" 
                                x-text="slide.title"></h1>
                            
                            <div class="flex flex-wrap items-center gap-3 text-sm md:text-base text-neo-textDark mb-6">
                                <span x-text="new Date(slide.release_date).getFullYear()"
                                      class="px-3 py-1 rounded-full bg-neo-card/30 backdrop-blur-sm"></span>
                                <div class="flex items-center gap-2 px-3 py-1 rounded-full bg-neo-card/30 backdrop-blur-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.922-.755 1.688-1.538 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                    </svg>
                                    <span x-text="slide.vote_average.toFixed(1)"></span>
                                </div>
                                <!-- Movie Duration -->
                                <div class="flex items-center gap-2 px-3 py-1 rounded-full bg-neo-card/30 backdrop-blur-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    <span x-text="slide.runtime ? Math.floor(slide.runtime/60) + 'h ' + (slide.runtime%60) + 'm' : 'N/A'"></span>
                                </div>
                                <!-- Genre Tags -->
                                <template x-for="genreId in slide.genre_ids?.slice(0, 3)" :key="genreId">
                                    <span x-text="getGenreName(genreId)"
                                          class="px-3 py-1 rounded-full bg-neo-accent/20 text-neo-accent backdrop-blur-sm border border-neo-accent/20"></span>
                                </template>
                            </div>

                            <a :href="'watch.html?id=' + slide.id + '&type=movie'" 
                               class="neo-button text-white px-8 py-4 rounded-xl inline-flex items-center space-x-3 
                                      transform hover:scale-105 transition-all duration-300 shadow-xl">
                                <span class="text-lg">Watch Now</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </template>

            <!-- Slider controls -->
            <div class="absolute left-4 right-4 top-1/2 -translate-y-1/2 flex justify-between items-center z-10">
                <button @click="stopAutoplay(); currentSlide = (currentSlide - 1 + slides.length) % slides.length"
                        class="p-3 rounded-full bg-neo-card/30 text-white hover:bg-neo-card/50 transition-all duration-300 backdrop-blur-sm
                               transform hover:scale-110 border border-white/10 group">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:text-neo-accent transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <button @click="stopAutoplay(); currentSlide = (currentSlide + 1) % slides.length"
                        class="p-3 rounded-full bg-neo-card/30 text-white hover:bg-neo-card/50 transition-all duration-300 backdrop-blur-sm
                               transform hover:scale-110 border border-white/10 group">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:text-neo-accent transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>

            <!-- Slider indicators -->
            <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10">
                <template x-for="(slide, index) in slides" :key="index">
                    <button @click="stopAutoplay(); currentSlide = index"
                            :class="currentSlide === index ? 'w-12 bg-neo-accent' : 'w-2 bg-white/30 hover:bg-white/50'"
                            class="h-2 rounded-full transition-all duration-500 hover:scale-110"></button>
                </template>
            </div>
        </div>

        <div class="container mx-auto px-6 mt-12">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-8">
                <h2 class="text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-neo-tertiary to-neo-highlight" 
                    x-text="currentTab === 'movies' ? 'Popular Movies' : 'Popular TV Shows'"></h2>
            </div>
            
            <!-- Filters -->
            <div class="mb-8 space-y-4">
                <div class="flex flex-wrap gap-4 items-center">
                    <!-- Genre filter - Add wrapper and classes -->
                    <div class="custom-select-wrapper relative bg-neo-card bg-opacity-80 backdrop-blur-xl rounded-2xl overflow-hidden shadow-lg">
                        <select x-model="selectedGenre"
                                @change="applyFilters()"
                                class="custom-select bg-transparent text-neo-text rounded-2xl pl-4 py-3 hover:text-neo-tertiary focus:outline-none relative z-10">
                            <option value="" class="bg-neo-card">All Genres</option>
                            <template x-for="genre in genres" :key="genre.id">
                                <option :value="genre.id" x-text="genre.name" class="bg-neo-card"></option>
                            </template>
                        </select>
                    </div>

                    <!-- Rating range - Add wrapper and classes -->
                    <div class="custom-select-wrapper relative bg-neo-card bg-opacity-80 backdrop-blur-xl rounded-2xl overflow-hidden shadow-lg">
                        <select x-model="minRating"
                                @change="applyFilters()"
                                class="custom-select bg-transparent text-neo-text rounded-2xl pl-4 py-3 hover:text-neo-tertiary focus:outline-none relative z-10">
                            <option value="" class="bg-neo-card">Any Rating</option>
                            <option value="8" class="bg-neo-card">8+ ⭐</option>
                            <option value="7" class="bg-neo-card">7+ ⭐</option>
                            <option value="6" class="bg-neo-card">6+ ⭐</option>
                            <option value="5" class="bg-neo-card">5+ ⭐</option>
                        </select>
                        <!-- Default arrow removed by custom-select -->
                    </div>

                    <!-- Year range - Add wrapper and classes -->
                    <div class="custom-select-wrapper relative bg-neo-card bg-opacity-80 backdrop-blur-xl rounded-2xl overflow-hidden shadow-lg">
                        <select x-model="yearRange"
                                @change="applyFilters()"
                                class="custom-select bg-transparent text-neo-text rounded-2xl pl-4 py-3 hover:text-neo-tertiary focus:outline-none relative z-10">
                            <option value="" class="bg-neo-card">Any Year</option>
                            <option value="2020,2024" class="bg-neo-card">2020s</option>
                            <option value="2010,2019" class="bg-neo-card">2010s</option>
                            <option value="2000,2009" class="bg-neo-card">2000s</option>
                            <option value="1990,1999" class="bg-neo-card">1990s</option>
                            <option value="1980,1989" class="bg-neo-card">1980s</option>
                            <option value="1970,1979" class="bg-neo-card">1970s</option>
                            <option value="1960,1969" class="bg-neo-card">1960s</option>
                            <option value="1950,1959" class="bg-neo-card">1950s</option>
                        </select>
                        <!-- Default arrow removed by custom-select -->
                    </div>

                    <!-- Language filter - Add wrapper and classes -->
                    <div class="custom-select-wrapper relative bg-neo-card bg-opacity-80 backdrop-blur-xl rounded-2xl overflow-hidden shadow-lg">
                        <select x-model="selectedLanguage"
                                @change="applyFilters()"
                                class="custom-select bg-transparent text-neo-text rounded-2xl pl-4 py-3 hover:text-neo-tertiary focus:outline-none relative z-10">
                            <option value="" class="bg-neo-card">All Languages</option>
                            <option value="en" class="bg-neo-card">English</option>
                            <option value="fr" class="bg-neo-card">French</option>
                            <option value="es" class="bg-neo-card">Spanish</option>
                            <option value="de" class="bg-neo-card">German</option>
                            <option value="it" class="bg-neo-card">Italian</option>
                            <option value="ja" class="bg-neo-card">Japanese</option>
                            <option value="ko" class="bg-neo-card">Korean</option>
                        </select>
                        <!-- Default arrow removed by custom-select -->
                    </div>

                    <!-- Sort order - Add wrapper and classes -->
                    <div class="custom-select-wrapper relative bg-neo-card bg-opacity-80 backdrop-blur-xl rounded-2xl overflow-hidden shadow-lg">
                        <select x-model="sortBy"
                                @change="applyFilters()"
                                class="custom-select bg-transparent text-neo-text rounded-2xl pl-4 py-3 hover:text-neo-tertiary focus:outline-none relative z-10">
                            <option value="popularity.desc" class="bg-neo-card">Most Popular</option>
                            <option value="vote_average.desc" class="bg-neo-card">Rating (Highest)</option>
                            <option value="primary_release_date.desc" class="bg-neo-card">Release Date (Newest)</option>
                            <option value="revenue.desc" class="bg-neo-card">Highest Revenue</option>
                            <option value="vote_count.desc" class="bg-neo-card">Most Reviewed</option>
                            <option value="vote_average.asc" class="bg-neo-card">Rating (Lowest)</option>
                            <option value="primary_release_date.asc" class="bg-neo-card">Release Date (Oldest)</option>
                            <!-- Optional: Add Title sort if desired -->
                            <!-- <option value="original_title.asc" class="bg-neo-card">Title (A-Z)</option> -->
                        </select>
                        <!-- Default arrow removed by custom-select -->
                    </div>

                    <!-- Active filters display -->
                    <div class="flex flex-wrap gap-2">
                        <template x-if="selectedGenre">
                            <span class="bg-neo-accent/60 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2">
                                <span x-text="getGenreName(selectedGenre)"></span>
                                <button @click="selectedGenre = ''; applyFilters()" class="hover:text-gray-300">×</button>
                            </span>
                        </template>
                        <template x-if="minRating">
                            <span class="bg-neo-accent/60 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2">
                                <span x-text="minRating + '+ ⭐'"></span>
                                <button @click="minRating = ''; applyFilters()" class="hover:text-gray-300">×</button>
                            </span>
                        </template>
                        <template x-if="yearRange">
                            <span class="bg-neo-accent/60 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2">
                                <span x-text="getYearRangeName(yearRange)"></span>
                                <button @click="yearRange = ''; applyFilters()" class="hover:text-gray-300">×</button>
                            </span>
                        </template>
                        <template x-if="selectedLanguage">
                            <span class="bg-neo-accent/60 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2">
                                <span x-text="getLanguageName(selectedLanguage)"></span>
                                <button @click="selectedLanguage = ''; applyFilters()" class="hover:text-gray-300">×</button>
                            </span>
                        </template>
                        <template x-if="hasActiveFilters">
                            <button @click="clearAllFilters()" 
                                    class="filter-item px-3 py-1 rounded-full text-sm flex items-center gap-2 transition-colors duration-300">
                                <span>Clear All Filters</span>
                            </button>
                        </template>
                    </div>
                </div>
                <button @click="pickRandom()" 
                        class="neo-button text-white px-5 py-3 rounded-2xl flex items-center space-x-2 shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                    </svg>
                    <span>Random Pick</span>
                </button>
            </div>
            
            <!-- Content grid -->
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
                <template x-for="item in filteredContent" :key="item.id">
                    <div class="relative card-hover group" 
                         @contextmenu.prevent="$store.contextMenu = {
                            show: true,
                            x: $event.clientX,
                            y: $event.clientY,
                            item: item
                        }">
                        <a :href="'watch.html?id=' + item.id + '&type=' + (currentTab === 'movies' ? 'movie' : 'tv')"
                           class="block rounded-lg overflow-hidden aspect-[2/3]">
                            <div class="relative h-full">
                                <img :src="'https://image.tmdb.org/t/p/w500' + item.poster_path" 
                                     :alt="item.title || item.name"
                                     class="w-full h-full object-cover"
                                     @error="$event.target.src = 'logo.png'; $event.target.classList.remove('object-cover'); $event.target.classList.add('object-contain')" />
                                <div class="card-overlay absolute inset-0 flex flex-col justify-end p-4">
                                    <h3 class="text-sm md:text-base font-semibold line-clamp-2 mb-1" x-text="item.title || item.name"></h3>
                                    <div class="flex items-center gap-2 text-xs md:text-sm text-neo-textDark">
                                        <span x-text="new Date(item.release_date || item.first_air_date).getFullYear()"></span>
                                        <span class="flex items-center gap-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 md:h-4 md:w-4 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.922-.755 1.688-1.538 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                            </svg>
                                            <span x-text="item.vote_average?.toFixed(1)"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </a>
                        <button @click.stop="toggleWatchLater(item)"
                                class="absolute top-2 right-2 p-1.5 md:p-2 bg-neo-bg/75 backdrop-blur-sm rounded-full hover:bg-neo-accent transition-all duration-300 group-hover:opacity-100"
                                :class="isInWatchLater(item) ? 'text-neo-accent bg-neo-accent/10' : 'text-white opacity-0'">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 md:h-5 md:w-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                            </svg>
                        </button>
                    </div>
                </template>
            </div>

            <!-- Pagination -->
            <div class="mt-12 flex items-center justify-center space-x-4">
                <button @click="currentPage > 1 && changePage(currentPage - 1)"
                        :class="currentPage === 1 ? 'opacity-50 cursor-not-allowed' : 'hover:bg-neo-card'"
                        class="bg-neo-card/50 backdrop-blur-xl border border-white/5 px-6 py-3 rounded-2xl transition-all duration-300 flex items-center space-x-2 shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                    </svg>
                    <span>Previous</span>
                </button>
                
                <span class="text-neo-textDark">Page <span class="text-neo-text font-medium" x-text="currentPage"></span></span>

                <button @click="changePage(currentPage + 1)"
                        class="bg-neo-card/50 hover:bg-neo-card backdrop-blur-xl border border-white/5 px-6 py-3 rounded-2xl transition-all duration-300 flex items-center space-x-2 shadow-lg">
                    <span>Next</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Streaming services -->
    <div class="container mx-auto px-4 md:px-6 py-8 md:py-12">
        <div class="text-center mb-6 md:mb-8">
            <h2 class="text-xl md:text-2xl font-bold text-neo-text">Content Available From</h2>
            <p class="text-sm md:text-base text-neo-textDark mt-2">FastFilmi aggregates content from various premium streaming platforms</p>
        </div>
        <div class="grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 items-center justify-items-center opacity-80">
            <a href="https://netflix.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg" 
                     alt="Netflix" 
                     class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(229,9,20,0.7)]">
            </a>
            <a href="https://www.primevideo.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/1/11/Amazon_Prime_Video_logo.svg" 
                     alt="Prime Video" 
                     class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(0,168,225,0.7)]">
            </a>
            <a href="https://www.disneyplus.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Disney%2B_logo.svg" 
                     alt="Disney+" 
                     class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(113,168,255,0.7)]">
            </a>
            <a href="https://www.hulu.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/f/f9/Hulu_logo_%282018%29.svg" 
                     alt="Hulu" 
                     class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(28,231,131,0.7)]">
            </a>
            <a href="https://www.max.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/1/17/HBO_Max_Logo.svg" 
                     alt="HBO Max" 
                     class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(116,80,254,0.7)]">
            </a>
            <a href="https://tv.apple.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/28/Apple_TV_Plus_Logo.svg" 
                     alt="Apple TV+" 
                     class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(0,244,244,0.7)]">
            </a>
        </div>
    </div>

    <footer class="text-neo-textDark py-4 md:py-6 mt-8 md:mt-12 border-t border-white/5">
        <div class="container mx-auto px-4 md:px-6 text-center">
            <p class="text-xs md:text-sm">
                FastFilmi doesn't store files, but provides links to external services. Legal issues should be discussed with file providers and hosts. The files provided by video providers are not covered by FastFilmi.
            </p>
            <p class="mt-2 text-xs">
                Made with ❤ by FastFilmi. 02/03/25
            </p>
            <p class="mt-2 text-xs">
                <a href="mailto:contact@fastfilmi.top" class="text-neo-accent hover:text-neo-tertiary transition-colors">contact@fastfilmi.top</a>
            </p>
        </div>
    </footer>

    <!-- toast notification -->
    <div x-data="toastHandler()" 
        x-show="show"
        @show-toast.window="showToast($event.detail.message)"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform translate-y-8"
        x-transition:enter-end="opacity-100 transform translate-y-0"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100 transform translate-y-0"
        x-transition:leave-end="opacity-0 transform translate-y-8"
        class="fixed bottom-4 right-4 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-xl z-[100] flex items-center gap-2"
        style="pointer-events: none;">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-400 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <span x-text="message" class="text-sm"></span>
    </div>

    <script>
    function toastHandler() {
        return {
            message: '',
            show: false,
            showToast(msg) {
                this.message = msg;
                this.show = true;
                setTimeout(() => {
                    this.show = false;
                }, 3000);
            }
        }
    }

    function contextMenuHandler() {
        return {
            copyToClipboard(text) {
                if (!text) return;
                navigator.clipboard.writeText(text).then(() => {
                    window.dispatchEvent(new CustomEvent('show-toast', { 
                        detail: { message: 'Copied to clipboard!' }
                    }));
                }).catch(() => {
                    window.dispatchEvent(new CustomEvent('show-toast', { 
                        detail: { message: 'Failed to copy to clipboard' }
                    }));
                });
            }
        }
    }

    document.addEventListener('alpine:init', () => {
        Alpine.store('contextMenu', {
            show: false,
            x: 0,
            y: 0,
            item: null
        });
    });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const discordPopupSeen = localStorage.getItem('discordPopupSeen');

            if (!discordPopupSeen) {
                const popup = document.createElement('div');
                popup.className = 'fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75';
                popup.innerHTML = `
                    <div class="bg-neo-card rounded-2xl p-6 text-center space-y-4 max-w-sm border border-white/5">
                        <h2 class="text-xl font-bold text-neo-accent">FastFilmi has a Discord Server!</h2>
                        <p class="text-neo-textDark">Join the community for updates and discussions <3</p>
                        <a href="https://discord.gg/s9kUZw7CqP" target="_blank" 
                            class="neo-button px-4 py-2 rounded-xl text-white inline-block">
                            Join Now
                        </a>
                        <button id="closePopup" 
                            class="text-neo-textDark hover:text-neo-text focus:outline-none">
                            Dismiss
                        </button>
                    </div>
                `;
                document.body.appendChild(popup);

                document.getElementById('closePopup').addEventListener('click', function() {
                    popup.style.display = 'none';
                    localStorage.setItem('discordPopupSeen', 'true');
                });
            }
        });
    </script>

<button 
    @click="window.scrollTo({top: 0})" 
    @scroll.window="showScrollTop = window.pageYOffset > 500"
    x-data="{ showScrollTop: false }"
    x-show="showScrollTop"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 transform translate-y-10"
    x-transition:enter-end="opacity-100 transform translate-y-0"
    x-transition:leave="transition ease-in duration-300"
    x-transition:leave-start="opacity-100 transform translate-y-0"
    x-transition:leave-end="opacity-0 transform translate-y-10"
    class="fixed bottom-8 right-8 neo-button text-white rounded-full p-4 shadow-lg cursor-pointer transition-all duration-300 hover:scale-110 z-50">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
    </svg>
</button>

<div id="donationBanner" class="fixed bottom-4 left-4 right-4 md:left-1/2 md:-translate-x-1/2 max-w-2xl bg-neo-card/30 backdrop-blur-xl text-white p-6 rounded-2xl shadow-2xl flex flex-col items-center justify-center space-y-2 z-50 border border-white/10 hover:border-white/20 transition-all duration-300">
    <div class="text-center space-y-3">
        <p class="text-sm md:text-base leading-relaxed">
            Hey, FastFilmi users! I'm a developer dedicated to making streaming accessible for everyone. Maintaining FastFilmi takes a lot of time and effort. If you're enjoying the service, consider supporting the project on GitHub—it would mean the world to me and keep me motivated to add more features and improvements! ✨
        </p>
        <div class="flex items-center justify-center space-x-3">
            <a href="https://github.com/korybantes/fastfilmi" target="_blank" class="bg-white/10 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-medium hover:bg-white/20 transition-all duration-300 flex items-center space-x-3 border border-white/10 hover:border-white/20">
                <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                <span>Support on GitHub</span>
            </a>
            <button id="closeBanner" class="text-white/80 hover:text-white transition-all px-4 py-2 rounded-xl hover:bg-white/5">
                Maybe Later
            </button>
        </div>
    </div>
</div>

<!-- Footer Menu -->
<footer class="text-neo-textDark py-12 mt-20 border-t border-white/5 bg-neo-card/30 backdrop-blur-xl">
    <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="space-y-4">
                <div class="flex items-center space-x-3">
                    <div class="h-10 w-10 bg-gradient-to-br from-neo-accent via-neo-secondary to-neo-tertiary rounded-xl flex items-center justify-center">
                        <img src="logo.svg" alt="FastFilmi Logo" class="h-7 w-7">
                    </div>
                    <span class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-neo-accent via-neo-tertiary to-neo-highlight">FastFilmi</span>
                </div>
                <p class="text-sm">Making quality content accessible to everyone.</p>
                <div class="flex space-x-4">
                    <a href="https://github.com/korybantes/fastfilmi" target="_blank" class="text-neo-textDark hover:text-neo-accent transition-colors">
                        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                    </a>
                    <a href="https://discord.gg/s9kUZw7CqP" target="_blank" class="text-neo-textDark hover:text-neo-accent transition-colors">
                        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
                        </svg>
                    </a>
                </div>
            </div>
            <div>
                <h3 class="text-neo-text font-semibold mb-4">Navigation</h3>
                <ul class="space-y-2">
                    <li><a href="#" class="hover:text-neo-accent transition-colors">Movies</a></li>
                    <li><a href="#" class="hover:text-neo-accent transition-colors">TV Shows</a></li>
                    <li><a href="livesports.html" class="hover:text-neo-accent transition-colors">Live Sports</a></li>
                    <li><a href="settings.html" class="hover:text-neo-accent transition-colors">Settings</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-neo-text font-semibold mb-4">Legal</h3>
                <ul class="space-y-2">
                    <li><a href="#" class="hover:text-neo-accent transition-colors">Terms of Service</a></li>
                    <li><a href="#" class="hover:text-neo-accent transition-colors">Privacy Policy</a></li>
                    <li><a href="#" class="hover:text-neo-accent transition-colors">DMCA</a></li>
                    <li><a href="#" class="hover:text-neo-accent transition-colors">Contact</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-neo-text font-semibold mb-4">About</h3>
                <ul class="space-y-2">
                    <li><a href="https://github.com/korybantes/fastfilmi" class="hover:text-neo-accent transition-colors">GitHub Repository</a></li>
                    <li><a href="https://discord.gg/s9kUZw7CqP" class="hover:text-neo-accent transition-colors">Join Discord</a></li>
                    <li><a href="#" class="hover:text-neo-accent transition-colors">Report Issues</a></li>
                    <li><a href="#" class="hover:text-neo-accent transition-colors">API Status</a></li>
                </ul>
            </div>
        </div>
        <div class="mt-8 pt-8 border-t border-white/5 text-center">
            <p class="text-xs">
                FastFilmi doesn't store files, but provides links to external services. Legal issues should be discussed with file providers and hosts.
            </p>
            <p class="mt-2 text-xs">
                Made with ❤️ by FastFilmi • <a href="mailto:contact@fastfilmi.top" class="text-neo-accent hover:text-neo-tertiary transition-colors">contact@fastfilmi.top</a>
            </p>
        </div>
    </div>
</footer>

<script>
    const closeBannerButton = document.getElementById('closeBanner');
    if (closeBannerButton) {
        closeBannerButton.addEventListener('click', function() {
            const banner = document.getElementById('donationBanner');
            if (banner) {
                banner.style.display = 'none';
            }
        });
    }
</script>

<script>
    document.querySelector('.search-container input').addEventListener('mousemove', (e) => {
        const container = e.target.parentElement;
        const rect = container.getBoundingClientRect();
        const x = ((e.clientX - rect.left) * 100) / rect.width;
        const y = ((e.clientY - rect.top) * 100) / rect.height;
        container.style.setProperty('--mouse-x', x + '%');
        container.style.setProperty('--mouse-y', y + '%');
    });
</script>

<script>
    window.addEventListener('appearance-changed', () => {
        const particlesEl = document.getElementById('particles-js');
        if (localStorage.getItem('showParticles') === 'false') {
            particlesEl.style.display = 'none';
        } else {
            particlesEl.style.display = 'block';
        }
    });
</script>

<!-- particles.js -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
    particlesJS('particles-js', {
        particles: {
            number: {
                value: 80,
                density: {
                    enable: true,
                    value_area: 800
                }
            },
            color: {
                value: '#FF2E9F'
            },
            shape: {
                type: 'circle'
            },
            opacity: {
                value: 0.2,
                random: true,
                animation: {
                    enable: true,
                    speed: 1,
                    opacity_min: 0.1,
                    sync: false
                }
            },
            size: {
                value: 3,
                random: true,
                animation: {
                    enable: true,
                    speed: 2,
                    size_min: 0.1,
                    sync: false
                }
            },
            line_linked: {
                enable: true,
                distance: 150,
                color: '#00F0C8',
                opacity: 0.2,
                width: 1
            },
            move: {
                enable: true,
                speed: 1,
                direction: 'none',
                random: true,
                straight: false,
                out_mode: 'out',
                bounce: false,
            }
        },
        interactivity: {
            detect_on: 'window',
            events: {
                onhover: {
                    enable: true,
                    mode: 'grab'
                },
                onclick: {
                    enable: true,
                    mode: 'push'
                },
                resize: true
            },
            modes: {
                grab: {
                    distance: 140,
                    line_linked: {
                        opacity: 0.5
                    }
                },
                push: {
                    particles_nb: 4
                }
            }
        },
        retina_detect: true
    });
</script>

<script>
        document.addEventListener('alpine:init', () => {
            Alpine.store('contextMenu', {
                show: false,
                x: 0,
                y: 0,
                item: null
            });
        });

        function app() {
            return {
                apiKey: '1070730380f5fee0d87cf0382670b255',
                content: [],
                filteredContent: [],
                currentTab: 'movies',
                language: localStorage.getItem('selectedLanguage') || 'en',
                searchQuery: '',
                searchType: 'all',
                filteredSearchResults: [],
                currentPage: 1,
                showWatchLater: false,
                showClearConfirm: false,
                watchLaterItems: [],
                watchLaterCount: 0,
                genres: [],
                selectedGenre: '',
                minRating: '',
                yearRange: '',
                selectedLanguage: '',
                sortBy: 'popularity.desc',
                viewMode: 'grid',
                watchLaterSearch: '',
                watchLaterSort: 'dateAdded',
                watchLaterFilter: 'all',
                watchLaterPriorityFilter: null,
                filteredWatchLaterItems: [],
                sidebarOpen: false,
                showSearchResults: false,
                isMinimized: false,
                showContextMenu: false,
                contextMenuX: 0,
                contextMenuY: 0,
                appVersion: '1.0.0',
                konamiCode: ['ArrowUp', 'ArrowUp'],
                konamiIndex: 0,
                touchStartX: 0,
                touchStartY: 0,
                progressValue: 0,
                slides: [],

                // Helper functions
                getItemImage(item) {
                    if (!item) return 'logo.png';
                    if (item.profile_path) return `https://image.tmdb.org/t/p/w500${item.profile_path}`;
                    if (item.poster_path) return `https://image.tmdb.org/t/p/w500${item.poster_path}`;
                    return 'logo.png';
                },

                getItemInfo(item) {
                    if (!item) return '';
                    if (item.known_for_department) return item.known_for_department;
                    const year = new Date(item.release_date || item.first_air_date).getFullYear();
                    const rating = item.vote_average ? `${item.vote_average.toFixed(1)} ⭐` : '';
                    return [year, rating].filter(Boolean).join(' • ');
                },

                getItemLink(item) {
                    if (!item) return '#';
                    if (item.known_for_department) return `person.html?id=${item.id}`;
                    const type = item.first_air_date ? 'tv' : 'movie';
                    return `watch.html?id=${item.id}&type=${type}`;
                },

                isInWatchLater(item) {
                    if (!item || !item.id || !Array.isArray(this.watchLaterItems)) return false;
                    return this.watchLaterItems.some(i => i && i.id === item.id);
                },

                get hasActiveFilters() {
                    return this.selectedGenre || this.minRating || this.yearRange || this.selectedLanguage;
                },

                getGenreName(genreId) {
                    const genre = this.genres.find(g => g.id === parseInt(genreId));
                    return genre ? genre.name : '';
                },

                formatDate(timestamp) {
                    if (!timestamp) return '';
                    const date = new Date(timestamp);
                    const now = new Date();
                    const diff = now - date;
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    
                    if (days === 0) return 'today';
                    if (days === 1) return 'yesterday';
                    if (days < 7) return days + ' days ago';
                    if (days < 30) return Math.floor(days / 7) + ' weeks ago';
                    if (days < 365) return Math.floor(days / 30) + ' months ago';
                    return Math.floor(days / 365) + ' years ago';
                },

                async init() {
                    // Initialize Watch Later items
                    const savedItems = localStorage.getItem('watchLater');
                    if (savedItems) {
                        this.watchLaterItems = JSON.parse(savedItems);
                        this.watchLaterCount = this.watchLaterItems.length;
                        this.filteredWatchLaterItems = this.watchLaterItems;
                    }

                    // Fetch initial data
                    await this.fetchGenres();
                    await this.fetchContent();
                    await this.fetchSlides();
                    
                    // Set up watchers
                    this.$watch('currentTab', async () => {
                        this.currentPage = 1;
                        this.selectedGenre = '';
                        this.minRating = '';
                        this.yearRange = '';
                        await this.fetchGenres();
                        await this.fetchContent();
                    });
                    
                    this.$watch('watchLaterItems', () => {
                        this.filterWatchLater();
                        this.watchLaterCount = this.watchLaterItems.length;
                    });

                    this.$watch('searchQuery', () => {
                        this.searchContent();
                    });
                },

                async fetchSlides() {
                    try {
                        const response = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${this.apiKey}&language=${this.language}&page=1`);
                        const data = await response.json();
                        this.slides = data.results.slice(0, 10);

                        // Fetch additional details for each slide
                        for (let slide of this.slides) {
                            try {
                                const detailsResponse = await fetch(`https://api.themoviedb.org/3/movie/${slide.id}?api_key=${this.apiKey}&append_to_response=images`);
                                const details = await detailsResponse.json();
                                slide.images = details.images || { logos: [] };
                                slide.runtime = details.runtime;
                    } catch (error) {
                                console.error('Error fetching slide details:', error);
                                slide.images = { logos: [] };
                                slide.runtime = null;
                            }
                        }
                    } catch (error) {
                        console.error('Error fetching slides:', error);
                        this.slides = [];
                    }
                },

                async fetchGenres() {
                    try {
                        const baseUrl = 'https://api.themoviedb.org/3';
                        const endpoint = this.currentTab === 'movies' ? 'genre/movie/list' : 'genre/tv/list';
                        const url = `${baseUrl}/${endpoint}?api_key=${this.apiKey}&language=${this.language}`;

                        const response = await fetch(url);
                        const data = await response.json();
                        this.genres = data.genres || [];
                    } catch (error) {
                        console.error('Error fetching genres:', error);
                        this.genres = [];
                    }
                },

                async fetchContent() {
                    try {
                    const baseUrl = 'https://api.themoviedb.org/3';
                    const endpoint = this.currentTab === 'movies' ? 'movie/popular' : 'tv/popular';
                    const url = `${baseUrl}/${endpoint}?api_key=${this.apiKey}&language=${this.language}&page=${this.currentPage}`;

                        const response = await fetch(url);
                        const data = await response.json();
                        
                        if (data.results) {
                        this.content = data.results;
                            this.filteredContent = [...this.content];
                            await this.applyFilters();
                        }
                    } catch (error) {
                        console.error('Error fetching content:', error);
                        this.content = [];
                        this.filteredContent = [];
                    }
                },

                async searchContent() {
                    if (!this.searchQuery.trim()) {
                        this.filteredSearchResults = [];
                        this.showSearchResults = false;
                        return;
                    }

                    try {
                        const query = this.searchQuery.toLowerCase();
                        let results = [];

                        if (this.searchType === 'all' || this.searchType === 'movies') {
                            const movieResponse = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${query}&language=${this.language}`);
                            const movieData = await movieResponse.json();
                            results = [...results, ...movieData.results.map(item => ({ ...item, type: 'movie' }))];
                        }

                        if (this.searchType === 'all' || this.searchType === 'shows') {
                            const tvResponse = await fetch(`https://api.themoviedb.org/3/search/tv?api_key=${this.apiKey}&query=${query}&language=${this.language}`);
                            const tvData = await tvResponse.json();
                            results = [...results, ...tvData.results.map(item => ({ ...item, type: 'tv' }))];
                        }

                        if (this.searchType === 'all' || this.searchType === 'people') {
                            const peopleResponse = await fetch(`https://api.themoviedb.org/3/search/person?api_key=${this.apiKey}&query=${query}&language=${this.language}`);
                            const peopleData = await peopleResponse.json();
                            results = [...results, ...peopleData.results];
                        }

                        this.filteredSearchResults = results.slice(0, 10);
                        this.showSearchResults = true;
                        } catch (error) {
                            console.error('Error searching content:', error);
                        this.filteredSearchResults = [];
                    }
                },

                async applyFilters() {
                    if (!this.content.length) return;

                    let filtered = [...this.content];

                    if (this.selectedGenre) {
                        filtered = filtered.filter(item => 
                            item.genre_ids && item.genre_ids.includes(parseInt(this.selectedGenre))
                        );
                    }

                    if (this.minRating) {
                        filtered = filtered.filter(item => 
                            item.vote_average >= parseFloat(this.minRating)
                        );
                    }

                    if (this.yearRange) {
                        const [startYear, endYear] = this.yearRange.split(',').map(Number);
                        filtered = filtered.filter(item => {
                            const year = new Date(item.release_date || item.first_air_date).getFullYear();
                            return year >= startYear && year <= endYear;
                        });
                    }

                    if (this.selectedLanguage) {
                        filtered = filtered.filter(item => 
                            item.original_language === this.selectedLanguage
                        );
                    }

                    this.filteredContent = filtered;
                },

                // ... rest of your existing methods ...

                async changePage(newPage) {
                    this.currentPage = newPage;
                    await this.fetchContent();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    }
}
</script>

<script>
    // Add mouse tracking for select wrappers
    document.querySelectorAll('.custom-select-wrapper').forEach(wrapper => {
        wrapper.addEventListener('mousemove', (e) => {
            const rect = wrapper.getBoundingClientRect();
        const x = ((e.clientX - rect.left) * 100) / rect.width;
        const y = ((e.clientY - rect.top) * 100) / rect.height;
            // Use requestAnimationFrame to avoid layout thrashing
            requestAnimationFrame(() => {
                wrapper.style.setProperty('--select-mouse-x', x + '%');
                wrapper.style.setProperty('--select-mouse-y', y + '%');
            });
        });
        // Optional: Reset mouse position on mouseleave to stop the gradient effect
        wrapper.addEventListener('mouseleave', () => {
             requestAnimationFrame(() => {
                 wrapper.style.removeProperty('--select-mouse-x');
                 wrapper.style.removeProperty('--select-mouse-y');
             });
        });
    });
</script>

<!-- Floating Action Menu -->
<div class="floating-menu" x-data="{ showMenu: false }">
    <div class="floating-menu-items" :class="{ 'show': showMenu }">
        <button class="floating-menu-item" @click="pickRandom()">
            <span class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neo-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                </svg>
                Random Pick
            </span>
        </button>
        <button class="floating-menu-item" @click="showWatchLater = true">
            <span class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neo-tertiary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                </svg>
                Watch Later
                <span x-show="watchLaterCount > 0" 
                      class="bg-neo-accent text-white text-xs px-2 py-0.5 rounded-full" 
                      x-text="watchLaterCount"></span>
            </span>
        </button>
        <button class="floating-menu-item" @click="currentTab = currentTab === 'movies' ? 'shows' : 'movies'">
            <span class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neo-highlight" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" />
                </svg>
                <span x-text="currentTab === 'movies' ? 'Switch to TV Shows' : 'Switch to Movies'"></span>
            </span>
        </button>
    </div>
    <button class="floating-menu-button flex items-center justify-center" @click="showMenu = !showMenu">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white transform transition-transform" :class="{ 'rotate-45': showMenu }" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
    </button>
</div>

<!-- Quick Preview Card -->
<div x-data="{ previewItem: null, showPreview: false }" 
     x-show="showPreview"
     class="preview-card"
     :class="{ 'show': showPreview }"
     @mouseleave="showPreview = false">
    <div class="p-6">
        <div class="flex gap-6">
            <img :src="'https://image.tmdb.org/t/p/w342' + previewItem?.poster_path" 
                 :alt="previewItem?.title || previewItem?.name"
                 class="w-32 h-48 object-cover rounded-xl">
            <div class="flex-1">
                <h3 class="text-xl font-bold mb-2" x-text="previewItem?.title || previewItem?.name"></h3>
                <div class="flex items-center gap-4 text-sm text-neo-textDark mb-4">
                    <span x-text="new Date(previewItem?.release_date || previewItem?.first_air_date).getFullYear()"></span>
                    <span class="flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.922-.755 1.688-1.538 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                        <span x-text="previewItem?.vote_average?.toFixed(1)"></span>
                    </span>
                </div>
                <p class="text-sm text-neo-textDark line-clamp-3" x-text="previewItem?.overview"></p>
                <div class="flex gap-2 mt-4">
                    <a :href="'watch.html?id=' + previewItem?.id + '&type=' + (currentTab === 'movies' ? 'movie' : 'tv')"
                       class="neo-button text-white px-4 py-2 rounded-xl text-sm">Watch Now</a>
                    <button @click="toggleWatchLater(previewItem)"
                            class="px-4 py-2 rounded-xl text-sm border border-white/10 hover:bg-neo-card/50 transition-colors"
                            :class="isInWatchLater(previewItem) ? 'text-neo-accent border-neo-accent/30' : 'text-white'">
                        <span x-text="isInWatchLater(previewItem) ? 'Remove from Watch Later' : 'Add to Watch Later'"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Context Menu -->
<div x-data="contextMenuHandler()"
     x-show="$store.contextMenu.show"
     @click.away="$store.contextMenu.show = false"
     @keydown.escape.window="$store.contextMenu.show = false"
     :style="`position: fixed; left: ${$store.contextMenu.x}px; top: ${$store.contextMenu.y}px; z-index: 50;`"
     class="bg-neo-card/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl w-64 overflow-hidden">
    <div class="p-2">
        <template x-if="$store.contextMenu.item">
            <div>
                <!-- Title Section -->
                <div class="px-3 py-2 border-b border-white/5 mb-2">
                    <h3 class="text-sm font-medium text-neo-text line-clamp-2" x-text="$store.contextMenu.item.title || $store.contextMenu.item.name"></h3>
                    <div class="flex items-center gap-2 mt-1 text-xs text-neo-textDark">
                        <span x-text="new Date($store.contextMenu.item.release_date || $store.contextMenu.item.first_air_date).getFullYear()"></span>
                        <span class="flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.922-.755 1.688-1.538 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                            </svg>
                            <span x-text="$store.contextMenu.item.vote_average?.toFixed(1)"></span>
                        </span>
                    </div>
                </div>

                <!-- Menu Items -->
                <a :href="'https://www.themoviedb.org/' + (currentTab === 'movies' ? 'movie' : 'tv') + '/' + $store.contextMenu.item.id"
                   target="_blank"
                   class="flex items-center gap-3 w-full px-3 py-2 text-sm text-neo-textDark hover:text-neo-text hover:bg-white/5 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                    <span>View on TMDB</span>
                </a>

                <button @click="copyToClipboard($store.contextMenu.item.title || $store.contextMenu.item.name); $store.contextMenu.show = false"
                        class="flex items-center gap-3 w-full px-3 py-2 text-sm text-neo-textDark hover:text-neo-text hover:bg-white/5 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2" />
                    </svg>
                    <span>Copy Title</span>
                </button>

                <button @click="copyToClipboard($store.contextMenu.item.id.toString()); $store.contextMenu.show = false"
                        class="flex items-center gap-3 w-full px-3 py-2 text-sm text-neo-textDark hover:text-neo-text hover:bg-white/5 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                    </svg>
                    <span>Copy TMDB ID</span>
                </button>

                <button @click="copyToClipboard($store.contextMenu.item.overview); $store.contextMenu.show = false"
                        class="flex items-center gap-3 w-full px-3 py-2 text-sm text-neo-textDark hover:text-neo-text hover:bg-white/5 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
                    </svg>
                    <span>Copy Overview</span>
                </button>

                <div class="my-2 border-t border-white/5"></div>

                <button @click="toggleWatchLater($store.contextMenu.item); $store.contextMenu.show = false"
                        class="flex items-center gap-3 w-full px-3 py-2 text-sm hover:bg-white/5 rounded-lg transition-colors"
                        :class="isInWatchLater($store.contextMenu.item) ? 'text-neo-accent' : 'text-neo-textDark hover:text-neo-text'">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                    </svg>
                    <span x-text="isInWatchLater($store.contextMenu.item) ? 'Remove from Watch Later' : 'Add to Watch Later'"></span>
                </button>
            </div>
        </template>
    </div>
</div>

<!-- Watch Later Modal -->
<div x-show="showWatchLater" 
     class="fixed inset-0 z-[60] overflow-y-auto"
    x-transition:enter="transition ease-out duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0">
    
    <!-- Backdrop -->
    <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" @click="showWatchLater = false"></div>
    
    <!-- Modal Content -->
    <div class="relative min-h-screen flex items-center justify-center p-4">
        <div class="relative w-full max-w-4xl bg-neo-card/30 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10"
    x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 transform scale-95"
             x-transition:enter-end="opacity-100 transform scale-100"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 transform scale-100"
             x-transition:leave-end="opacity-0 transform scale-95">
            
            <!-- Header -->
            <div class="flex items-center justify-between p-6 border-b border-white/5">
                <div class="flex items-center gap-4">
                    <h2 class="text-2xl font-bold">Watch Later</h2>
                    <span x-show="watchLaterCount > 0" 
                          class="bg-neo-accent/20 text-neo-accent px-3 py-1 rounded-full text-sm">
                        <span x-text="watchLaterCount"></span> items
                    </span>
                </div>
                <div class="flex items-center gap-4">
                    <button x-show="watchLaterCount > 0"
                            @click="clearWatchLater()"
                            class="text-neo-textDark hover:text-neo-accent transition-colors text-sm flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                        Clear All
                    </button>
                    <button @click="showWatchLater = false" class="text-neo-textDark hover:text-white transition-colors">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
</button>
                </div>
            </div>
            
            <!-- Search and Filters Bar -->
            <div x-show="watchLaterCount > 0" class="p-6 border-b border-white/5">
                <div class="flex flex-wrap gap-4">
                    <!-- Search -->
                    <div class="relative flex-1 min-w-[250px]">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neo-textDark" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                        </div>
                        <input type="text" 
                               x-model="watchLaterSearch" 
                               @input.debounce.300ms="filterWatchLater()"
                               placeholder="Search by title, year, or rating..."
                               class="w-full bg-white/5 text-sm rounded-xl pl-10 pr-4 py-2.5 border border-white/10 focus:outline-none focus:border-neo-accent focus:ring-1 focus:ring-neo-accent/50 transition-all">
                    </div>

                    <!-- View Toggle -->
                    <div class="flex items-center gap-2 bg-white/5 rounded-lg p-1">
                        <button @click="viewMode = 'grid'"
                                :class="viewMode === 'grid' ? 'bg-neo-card text-white' : 'text-neo-textDark hover:text-white'"
                                class="p-2 rounded-lg transition-all">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                            </svg>
                        </button>
                        <button @click="viewMode = 'list'"
                                :class="viewMode === 'list' ? 'bg-neo-card text-white' : 'text-neo-textDark hover:text-white'"
                                class="p-2 rounded-lg transition-all">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>

                    <!-- Sort Dropdown -->
                    <select x-model="watchLaterSort" 
                            @change="sortWatchLater()"
                            class="bg-neo-card/30 backdrop-blur-sm text-sm rounded-xl px-4 py-2.5 border border-white/10 focus:outline-none focus:border-neo-accent appearance-none cursor-pointer min-w-[150px] hover:bg-white/5 transition-all">
                        <option value="dateAdded" class="bg-neo-card">Date Added</option>
                        <option value="name" class="bg-neo-card">Name</option>
                        <option value="rating" class="bg-neo-card">Rating</option>
                        <option value="releaseDate" class="bg-neo-card">Release Date</option>
                        <option value="priority" class="bg-neo-card">Priority</option>
                        <option value="progress" class="bg-neo-card">Watch Progress</option>
                    </select>

                    <!-- Type Filter -->
                    <select x-model="watchLaterFilter" 
                            @change="filterWatchLater()"
                            class="bg-neo-card/30 backdrop-blur-sm text-sm rounded-xl px-4 py-2.5 border border-white/10 focus:outline-none focus:border-neo-accent appearance-none cursor-pointer min-w-[120px] hover:bg-white/5 transition-all">
                        <option value="all" class="bg-neo-card">All Types</option>
                        <option value="movies" class="bg-neo-card">Movies</option>
                        <option value="shows" class="bg-neo-card">TV Shows</option>
                        <option value="started" class="bg-neo-card">Started</option>
                        <option value="notStarted" class="bg-neo-card">Not Started</option>
                    </select>

                    <!-- Priority Filter -->
                    <div class="flex items-center gap-2">
                        <button @click="togglePriorityFilter('high')"
                                :class="watchLaterPriorityFilter === 'high' ? 'bg-red-500/20 text-red-400 border-red-500/30' : 'bg-white/5 text-neo-textDark'"
                                class="px-3 py-2 rounded-xl text-sm border border-white/5 transition-colors">High</button>
                        <button @click="togglePriorityFilter('medium')"
                                :class="watchLaterPriorityFilter === 'medium' ? 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30' : 'bg-white/5 text-neo-textDark'"
                                class="px-3 py-2 rounded-xl text-sm border border-white/5 transition-colors">Medium</button>
                        <button @click="togglePriorityFilter('low')"
                                :class="watchLaterPriorityFilter === 'low' ? 'bg-blue-500/20 text-blue-400 border-blue-500/30' : 'bg-white/5 text-neo-textDark'"
                                class="px-3 py-2 rounded-xl text-sm border border-white/5 transition-colors">Low</button>
                    </div>
                </div>
            </div>

            <!-- Content -->
            <div class="p-6">
                <template x-if="watchLaterCount === 0">
                    <div class="text-center py-12">
                        <div class="w-20 h-20 mx-auto mb-6 text-neo-textDark">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-medium mb-2">Your Watch Later list is empty</h3>
                        <p class="text-neo-textDark">Save movies and shows to watch them later!</p>
                    </div>
                </template>

                <!-- Grid View -->
                <div x-show="viewMode === 'grid'" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <template x-for="item in filteredWatchLaterItems" :key="item.id">
                        <div class="relative group" @contextmenu.prevent="
                            $store.contextMenu = {
                                show: true,
                                x: $event.clientX,
                                y: $event.clientY,
                                item: item
                            }">
                            <div class="card-hover h-full">
                                <div class="relative aspect-[2/3]">
                                    <img :src="'https://image.tmdb.org/t/p/w500' + item.poster_path" 
                                         :alt="item.title || item.name"
                                         class="w-full h-full object-cover rounded-xl"
                                         @error="$event.target.src = 'logo.png'">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"></div>
                                    
                                    <!-- Watch Progress Bar -->
                                    <div class="absolute bottom-0 left-0 right-0 h-1 bg-white/10">
                                        <div class="h-full bg-neo-accent" :style="'width: ' + (item.watchProgress || 0) + '%'"></div>
                                    </div>
                                    
                                    <!-- Overlay Content -->
                                    <div class="absolute inset-0 flex flex-col justify-end p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                        <div class="flex items-center justify-between mb-2">
                                            <span class="text-xs px-2 py-1 rounded-full" 
                                                  :class="item.type === 'movie' ? 'bg-neo-accent/20 text-neo-accent' : 'bg-neo-tertiary/20 text-neo-tertiary'"
                                                  x-text="item.type === 'movie' ? 'Movie' : 'TV Show'"></span>
                                            <span x-show="item.watchProgress" 
                                                  class="text-xs text-neo-textDark"
                                                  x-text="item.watchProgress + '% watched'"></span>
                                        </div>
                                        <h3 class="text-lg font-semibold line-clamp-2 mb-2" x-text="item.title || item.name"></h3>
                                        <div class="flex items-center gap-2 text-sm text-neo-textDark mb-3">
                                            <span x-text="new Date(item.release_date || item.first_air_date).getFullYear()"></span>
                                            <span class="flex items-center gap-1">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.922-.755 1.688-1.538 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                                </svg>
                                                <span x-text="item.vote_average?.toFixed(1)"></span>
                                            </span>
                                            <span class="text-xs px-2 py-0.5 rounded-full" 
                                                  :class="item.type === 'movie' ? 'bg-neo-accent/20 text-neo-accent' : 'bg-neo-tertiary/20 text-neo-tertiary'"
                                                  x-text="item.type === 'movie' ? 'Movie' : 'TV Show'"></span>
                                            <span x-show="item.watchProgress" 
                                                  class="text-xs"
                                                  x-text="item.watchProgress + '% watched'"></span>
                                        </div>
                                        <div class="flex gap-2">
                                            <a :href="'watch.html?id=' + item.id + '&type=' + item.type"
                                               class="flex-1 bg-neo-accent hover:bg-neo-accent/90 text-white text-center py-2 rounded-lg text-sm transition-colors">
                                                Watch Now
                                            </a>
                                            <button @click="toggleWatchLater(item)"
                                                    class="p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors group/remove"
                                                    title="Remove from Watch Later">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                                                </svg>
            </button>
        </div>
    </div>
</div>
                            </div>
                            <!-- Priority Badge -->
                            <div x-show="item.priority" 
                                 class="absolute top-2 left-2 px-2 py-1 rounded-lg text-xs font-medium"
                                 :class="{
                                     'bg-red-500/20 text-red-400': item.priority === 'high',
                                     'bg-yellow-500/20 text-yellow-400': item.priority === 'medium',
                                     'bg-blue-500/20 text-blue-400': item.priority === 'low'
                                 }">
                                <span x-text="item.priority.charAt(0).toUpperCase() + item.priority.slice(1)"></span>
                            </div>
                        </div>
                    </template>
                </div>

                <!-- List View -->
                <div x-show="viewMode === 'list'" class="space-y-4">
                    <template x-for="item in filteredWatchLaterItems" :key="item.id">
                        <div class="relative group bg-neo-card/30 rounded-xl overflow-hidden hover:bg-neo-card/50 transition-all border border-white/5 hover:border-white/10"
                             @contextmenu.prevent="$store.contextMenu = { show: true, x: $event.clientX, y: $event.clientY, item: item }">
                            <div class="flex gap-4 p-4">
                                <!-- Poster -->
                                <div class="relative w-24 h-36">
                                    <img :src="'https://image.tmdb.org/t/p/w200' + item.poster_path" 
                                         :alt="item.title || item.name"
                                         class="w-full h-full object-cover rounded-lg"
                                         @error="$event.target.src = 'logo.png'">
                                    <!-- Progress Bar -->
                                    <div class="absolute bottom-0 left-0 right-0 h-1 bg-white/10">
                                        <div class="h-full bg-neo-accent" :style="'width: ' + (item.watchProgress || 0) + '%'"></div>
                                    </div>
                                </div>
                                
                                <!-- Content -->
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-start justify-between gap-4">
                                        <div>
                                            <h3 class="text-lg font-semibold line-clamp-1" x-text="item.title || item.name"></h3>
                                            <div class="flex items-center gap-3 mt-1 text-sm text-neo-textDark">
                                                <span x-text="new Date(item.release_date || item.first_air_date).getFullYear()"></span>
                                                <span class="flex items-center gap-1">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.922-.755 1.688-1.538 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                                    </svg>
                                                    <span x-text="item.vote_average?.toFixed(1)"></span>
                                                </span>
                                                <span class="text-xs px-2 py-0.5 rounded-full" 
                                                      :class="item.type === 'movie' ? 'bg-neo-accent/20 text-neo-accent' : 'bg-neo-tertiary/20 text-neo-tertiary'"
                                                      x-text="item.type === 'movie' ? 'Movie' : 'TV Show'"></span>
                                                <span x-show="item.watchProgress" 
                                                      class="text-xs"
                                                      x-text="item.watchProgress + '% watched'"></span>
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <!-- Priority Badge -->
                                            <span x-show="item.priority" 
                                                  class="px-2 py-1 rounded-lg text-xs font-medium"
                                                  :class="{
                                                      'bg-red-500/20 text-red-400': item.priority === 'high',
                                                      'bg-yellow-500/20 text-yellow-400': item.priority === 'medium',
                                                      'bg-blue-500/20 text-blue-400': item.priority === 'low'
                                                  }">
                                                <span x-text="item.priority.charAt(0).toUpperCase() + item.priority.slice(1)"></span>
                                            </span>
                                            <span class="text-xs text-neo-textDark" x-text="'Added ' + formatDate(item.dateAdded)"></span>
                                        </div>
                                    </div>
                                    <p class="mt-2 text-sm text-neo-textDark line-clamp-2" x-text="item.overview"></p>
                                    <div class="flex items-center gap-3 mt-3">
                                        <a :href="'watch.html?id=' + item.id + '&type=' + item.type"
                                           class="bg-neo-accent hover:bg-neo-accent/90 text-white px-4 py-1.5 rounded-lg text-sm transition-colors">
                                            Watch Now
                                        </a>
                                        <button @click="toggleWatchLater(item)"
                                                class="p-1.5 bg-white/10 hover:bg-white/20 rounded-lg transition-colors group/remove"
                                                title="Remove from Watch Later">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Clear Watch Later Confirmation Modal -->
<div x-show="showClearConfirm" 
     class="fixed inset-0 z-[70] overflow-y-auto"
     x-transition:enter="transition ease-out duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0">
    
    <div class="fixed inset-0 bg-black/50 backdrop-blur-sm"></div>
    
    <div class="relative min-h-screen flex items-center justify-center p-4">
        <div class="relative w-full max-w-md bg-neo-card/30 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 p-6"
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 transform scale-95"
             x-transition:enter-end="opacity-100 transform scale-100"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 transform scale-100"
             x-transition:leave-end="opacity-0 transform scale-95">
            
            <div class="text-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto text-neo-accent mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
                <h3 class="text-xl font-bold mb-2">Clear Watch Later List?</h3>
                <p class="text-neo-textDark mb-6">This action cannot be undone. Are you sure you want to clear your Watch Later list?</p>
                <div class="flex justify-center gap-4">
                    <button @click="showClearConfirm = false"
                            class="px-6 py-2 rounded-xl border border-white/10 hover:bg-white/5 transition-colors">
                        Cancel
                    </button>
                    <button @click="doClearWatchLater()"
                            class="px-6 py-2 rounded-xl bg-neo-accent hover:bg-neo-accent/90 text-white transition-colors">
                        Clear List
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Context Menu -->
<div x-show="showContextMenu" 
     @click.away="hideContextMenu"
     :style="'left: ' + contextMenuX + 'px; top: ' + contextMenuY + 'px'"
     class="context-menu"
     role="menu">
    <div class="context-menu-item" role="menuitem" @click="$router.push('/')">
        <i class="fas fa-home"></i> Home
    </div>
    <div class="context-menu-item" role="menuitem" @click="currentTab = 'movies'">
        <i class="fas fa-film"></i> Movies
    </div>
    <div class="context-menu-item" role="menuitem" @click="currentTab = 'shows'">
        <i class="fas fa-tv"></i> TV Shows
    </div>
    <div class="context-menu-item" role="menuitem" @click="showWatchLater = true">
        <i class="fas fa-clock"></i> Watch Later
    </div>
    <div class="context-menu-item" role="menuitem">
        <i class="fas fa-info-circle"></i> Version {{appVersion}}
    </div>
</div>

<!-- Add Progress Bar -->
<div class="progress-bar" :style="'width: ' + progressValue + '%'"></div>

<!-- Update Header -->
<header :class="{ 'minimized-header': isMinimized }" 
        class="transition-all duration-300 ease-in-out"
        @contextmenu.prevent="showContextMenuAt"
        role="banner">
    <!-- ... existing header content ... -->
</header>

<!-- Add Keyboard Navigation Support -->
<div class="sr-only" role="navigation" aria-label="Keyboard shortcuts">
    <p>Press 'H' for home</p>
    <p>Press 'M' for movies</p>
    <p>Press 'T' for TV shows</p>
    <p>Press 'W' for watch later</p>
    <p>Press 'Esc' to close menus</p>
</div>
</body>
</html>